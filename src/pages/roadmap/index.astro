---
import Base from "../../layouts/BaseLayout.astro";
import Header from "../../components/Header.astro";
import Footer from "../../components/Footer.astro";
import RoadmapPhaseCard from "../../components/RoadmapPhaseCard.astro";
import RoadmapTable from "../../components/RoadmapTable.astro";
import { ROADMAP } from "../../data/roadmap";
---

<Base title="Roadmap — Artagon" description="18‑month plan to deliver a provable identity cloud.">
  <Fragment slot="header"><Header /></Fragment>

  <!-- HERO -->
  <section class="rm-hero">
    <div class="container narrow">
      <h1 class="gradient-text" style="font-size:clamp(2rem,1.2rem+3vw,3rem)">Roadmap</h1>
      <p class="rm-lead">
        Five compounding phases over 18 months—starting with the core trust layer,
        then adding verifiable credentials, graph‑native authorization, proofing, and federation.
      </p>

      <!-- on this page chips -->
      <nav class="rm-onthispage" aria-label="On this page">
        {ROADMAP.map(p => <a class="rm-chip" href={`#${p.id}`}>{p.phase} · {p.horizon}</a>)}
      </nav>

      <!-- view toggle (CSS only) -->
      <div class="rm-toggle" role="tablist" aria-label="View">
        <input id="view-cards" name="rm-view" type="radio" checked />
        <label for="view-cards" role="tab" aria-selected="true">Cards</label>
        <input id="view-table" name="rm-view" type="radio" />
        <label for="view-table" role="tab">Table</label>
      </div>
    </div>
  </section>

  <!-- CARDS VIEW -->
  <section class="section rm-cards">
    <div class="container narrow rm-grid">
      {ROADMAP.map(p => <div class="rm-col-4"><RoadmapPhaseCard {...p} /></div>)}
    </div>
  </section>

  <!-- TABLE VIEW -->
  <section class="section rm-table">
    <div class="container narrow">
      <RoadmapTable phases={ROADMAP} />
    </div>
  </section>

  <Fragment slot="footer"><Footer /></Fragment>
</Base>
